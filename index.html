<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Daily Status Report</title>

    <!-- External CSS -->
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header>
      <button class="sidebar-toggle" id="sidebarToggle">☰</button>

      <h1 id="reportTitle">
        Daily Status Report ·
        <span id="tailSign">—</span> ·
        <span id="aircraftType">—</span>
      </h1>

      <div style="display: flex; gap: 0.5rem; align-items: center">
        <button class="logout-btn" id="logoutBtn">Logout</button>

        <div class="theme-switch" id="themeToggle" aria-label="Toggle theme">
          <span class="icon sun">☀</span>
          <span class="icon moon">☾</span>

          <div class="knob"></div>
        </div>
      </div>
    </header>

    <div class="app">
      <nav class="sidebar">
        <div class="nav-title">DSR NAV</div>
        <a href="#summary">Report Summary</a>
        <a href="#general">General Info</a>
        <a href="#contacts">Contacts</a>
        <a href="#status">Layover Status</a>
        <a href="#dates">Layover Dates</a>
        <a href="#tat">TAT Items</a>
        <a href="#milestones">Milestones</a>
        <a href="#taskcards">Task Cards</a>
        <a href="#highlights">Highlights</a>
        <a href="#workcenter">Work Centers</a>
        <a href="#idd">IDD</a>
        <a href="#odd">ODD</a>
        <a href="#materials">Materials</a>
        <a href="#rfss">RFSS</a>
        <a href="#actions">Action Items</a>
      </nav>

      <div class="content">
        <main>
          <!-- REPORT SUMMARY -->
          <section id="summary" class="card">
            <h2>Report Summary</h2>
            <div class="grid">
              <div class="item">
                <div class="label">Report Date</div>
                <span id="reportDate"></span>
              </div>

              <div class="item">
                <div class="label">Day No.</div>
                <input
                  id="dayNoInput"
                  type="number"
                  min="1"
                  placeholder="Day"
                  class="day-input"
                />
              </div>

              <div class="item">
                <div class="label">Days</div>
                <span id="totalDays"></span>
              </div>

              <div class="item">
                <div class="label">Start Date</div>
                <span id="startDate"></span>
              </div>

              <div class="item">
                <div class="label">End Date</div>
                <span id="endDate"></span>
              </div>
            </div>
          </section>

          <!-- GENERAL INFORMATION -->
          <section id="general" class="card">
            <h2>General Information</h2>
            <div class="grid">
              <div class="item">
                <div class="label">Customer</div>
                <span id="gi-customer"></span>
              </div>
              <div class="item">
                <div class="label">Agency</div>
                <span id="gi-agency"></span>
              </div>
              <div class="item">
                <div class="label">Tail Sign</div>
                <span id="gi-tailsign"></span>
              </div>
              <div class="item">
                <div class="label">Station</div>
                <span id="gi-station"></span>
              </div>
              <div class="item">
                <div class="label">Aircraft Type</div>
                <span id="gi-aircrafttype"></span>
              </div>
              <div class="item">
                <div class="label">Bay</div>
                <span id="gi-bay"></span>
              </div>
              <div class="item">
                <div class="label">MSN</div>
                <span id="gi-msn"></span>
              </div>
              <div class="item">
                <div class="label">Work Order</div>
                <span id="gi-workorder"></span>
              </div>
              <div class="item">
                <div class="label">Check Type</div>
                <span id="gi-checktype"></span>
              </div>
              <div class="item">
                <div class="label">Work Pack</div>
                <span id="gi-workpack"></span>
              </div>
            </div>
          </section>

          <!-- CONTACTS -->
          <section id="contacts" class="card">
            <h2>Contacts</h2>
            <table>
              <thead>
                <tr>
                  <th>Category</th>
                  <th>Position</th>
                  <th>Name</th>
                  <th>Contact</th>
                </tr>
              </thead>
              <tbody id="contactsBody"></tbody>
            </table>
          </section>

          <!-- OVERALL LAYOVER STATUS -->
          <section id="status" class="card">
            <h2>Overall Layover Status</h2>
            <div class="grid">
              <div class="item">
                Inspection
                <span id="ls-inspection" class="badge">-</span>
              </div>

              <div class="item">
                Rectification
                <span id="ls-rectification" class="badge">-</span>
              </div>

              <div class="item">
                Reinstallation
                <span id="ls-reinstallation" class="badge">-</span>
              </div>

              <div class="item">
                Final
                <span id="ls-final" class="badge">-</span>
              </div>
            </div>
          </section>

          <!-- LAYOVER DATES -->
          <section id="dates" class="card">
            <h2>Layover Dates</h2>
            <div class="grid">
              <div class="item">
                <div class="label">Arrival</div>
                <span id="ld-arrival">-</span>
              </div>
              <div class="item">
                <div class="label">Departure</div>
                <span id="ld-departure">-</span>
              </div>
              <div class="item">
                <div class="label">Flight Type</div>
                <span id="ld-flighttype">-</span>
              </div>
              <div class="item">
                <div class="label">Planned TAT</div>
                <span id="ld-plannedtat">-</span>
              </div>
            </div>
          </section>

          <!-- TAT RELEVANT ITEMS -->
          <section id="tat" class="card">
            <h2>TAT Relevant Items</h2>
            <table>
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Skill</th>
                  <th>Details</th>
                </tr>
              </thead>
              <tbody id="tatBody"></tbody>
            </table>
          </section>

          <!-- MILESTONES -->
          <section id="milestones" class="card">
            <h2>Milestones</h2>
            <table>
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Target</th>
                  <th>Revision</th>
                  <th>Achieved</th>
                  <th>Remarks</th>
                </tr>
              </thead>
              <tbody id="milestonesBody"></tbody>
            </table>
          </section>

          <!-- AIRCRAFT TASK CARD STATUS -->
          <section id="taskcards" class="card">
            <h2>Aircraft General Task Card Status</h2>
            <table>
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Total</th>
                  <th>Open</th>
                  <th>Closed</th>
                  <th>% Closed</th>
                  <th>Remarks</th>
                </tr>
              </thead>
              <tbody id="taskcardBody"></tbody>
            </table>
          </section>

          <!-- GENERAL HIGHLIGHTS -->
          <section id="highlights" class="card">
            <h2>General Highlights</h2>

            <div id="highlightsBody" class="section-note">
              <!-- injected by JS -->
            </div>
          </section>

          <!-- DETAILED WORK CENTER STATUS -->
          <section id="workcenter" class="card">
            <h2>Detailed Work Center Status</h2>
            <table>
              <thead>
                <tr>
                  <th>Work Center</th>
                  <th>Status / Progress</th>
                </tr>
              </thead>
              <tbody id="workcenterBody"></tbody>
            </table>
          </section>

          <!-- INCOMING DEFER DEFECTS -->
          <section id="idd" class="card">
            <h2>Incoming Defer Defects (IDD)</h2>
            <table>
              <thead>
                <tr>
                  <th>Item</th>
                  <th>Task Card</th>
                  <th>Customer Ref</th>
                  <th>Description</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="iddBody"></tbody>
            </table>
          </section>

          <!-- OUTGOING DEFER DEFECTS -->
          <section id="odd" class="card">
            <h2>Outgoing Defer Defects (ODD)</h2>
            <table>
              <thead>
                <tr>
                  <th>Item</th>
                  <th>Task Card</th>
                  <th>Customer Ref</th>
                  <th>Description</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="oddBody"></tbody>
            </table>
          </section>

          <!-- MATERIAL & TOOLING HIGHLIGHTS -->
          <section id="materials" class="card">
            <h2>Material & Tooling Highlights</h2>

            <div id="materialsBody" class="section-note">
              <!-- injected by JS -->
            </div>
          </section>

          <!-- ENGINEERING ITEMS -->
          <section id="rfss" class="card">
            <h2>Engineering Items (RFSS)</h2>
            <table>
              <thead>
                <tr>
                  <th>Area</th>
                  <th>N/R Ref</th>
                  <th>Description</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="rfssBody"></tbody>
            </table>
          </section>

          <!-- ACTION ITEMS -->
          <section id="actions" class="card">
            <h2>Action Items</h2>
            <table>
              <thead>
                <tr>
                  <th>Item</th>
                  <th>Description</th>
                  <th>Responsible</th>
                  <th>Target</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="actionBody"></tbody>
            </table>
          </section>
        </main>
      </div>
      <!-- Loading screen -->
      <div id="authLoading" class="auth-loading">
        <div class="spinner"></div>
        <p>Checking access…</p>
      </div>

      <!-- App (hidden by default) -->
      <div id="app" class="app hidden">
        <!-- EVERYTHING ELSE GOES HERE -->
      </div>
      <div id="woModal" class="wo-modal">
        <div class="wo-card">
          <h2>Enter Work Order</h2>
          <p class="subtitle">Authorized access only</p>

          <input type="text" id="workOrderInput" placeholder="e.g. 65626874" />

          <div class="wo-actions">
            <button id="enterWorkOrderBtn">Continue</button>

            <button id="createReportBtn" class="secondary">
              Create New Report
            </button>

            <button id="cancelWorkOrderBtn" class="secondary">Cancel</button>
          </div>

          <div class="error" id="woError"></div>
        </div>
      </div>
    </div>
    <!-- External JS -->
    <script type="module" src="script.js"></script>
  </body>
</html>
